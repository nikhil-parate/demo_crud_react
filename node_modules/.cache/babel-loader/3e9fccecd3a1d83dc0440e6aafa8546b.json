{"ast":null,"code":"import _toConsumableArray from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/nikhil.parate/Desktop/guvi/react/demosite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Table}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var API_URL='https://jsonplaceholder.typicode.com/posts';var demo=/*#__PURE__*/function(_Component){_inherits(demo,_Component);var _super=_createSuper(demo);function demo(){var _this;_classCallCheck(this,demo);_this=_super.call(this);_this.componentDidMount=function(){return _this.getPost();};_this.getPost=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(API_URL);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;//console.log(data);\n_this.setState({posts:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));_this.handle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState(_defineProperty({},event.target.name,event.target.value));//console.log(this.state)\ncase 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.submit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var flag,ID,index,i,post,posts,_post,_posts;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(event.target);event.preventDefault();flag=0;i=0;case 4:if(!(i<_this.state.posts.length)){_context3.next=13;break;}if(!(_this.state.posts[i].id==_this.myRef1.current.value)){_context3.next=10;break;}flag=1;ID=_this.state.posts[i].id;index=i;return _context3.abrupt(\"break\",13);case 10:++i;_context3.next=4;break;case 13:if(!(flag===0)){_context3.next=29;break;}post={userId:_this.myRef1.current.value,title:_this.myRef2.current.value,body:_this.myRef3.current.value};console.log(\"if\");_context3.prev=16;_context3.next=19;return axios.post(\"\".concat(API_URL),post);case 19:posts=[].concat(_toConsumableArray(_this.state.posts),[post]);console.log(\"try\");_this.setState({posts:posts});_context3.next=27;break;case 24:_context3.prev=24;_context3.t0=_context3[\"catch\"](16);console.log(_context3.t0);case 27:_context3.next=45;break;case 29:console.log(\"else\");_post={userId:_this.myRef1.current.value,title:_this.myRef2.current.value,body:_this.myRef3.current.value};console.log(\"inside update\");_context3.prev=32;_context3.next=35;return axios.put(\"\".concat(API_URL,\"/\").concat(ID),_post);case 35://console.log(posts);\n_this.state.posts[index].userId=_post.userId;_this.state.posts[index].title=_post.title;_this.state.posts[index].body=_post.body;_posts=_toConsumableArray(_this.state.posts);_this.setState({posts:_posts});_context3.next=45;break;case 42:_context3.prev=42;_context3.t1=_context3[\"catch\"](32);console.log(_context3.t1);case 45:case\"end\":return _context3.stop();}}},_callee3,null,[[16,24],[32,42]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.comments=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(Id){var _yield$axios$get2,data,res,i;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"\".concat(API_URL,\"/\").concat(Id,\"/comments\"));case 2:_yield$axios$get2=_context4.sent;data=_yield$axios$get2.data;res=[];for(i=0;i<data.length;++i){res.push(data[i].postId,data[i].id,data[i].name,data[i].email,data[i].body);}alert(res);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.view=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(Id){var _yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(API_URL,\"/\").concat(Id));case 2:_yield$axios$get3=_context5.sent;data=_yield$axios$get3.data;console.log(data);alert(\"userId:  \"+data.id+\"   \"+\"Title:  \"+data.title+\"   \"+\"Body:  \"+data.body);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref5.apply(this,arguments);};}();_this.delete=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(postId){var posts;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.delete(\"\".concat(API_URL,\"/\").concat(postId));case 3:posts=_toConsumableArray(_this.state.posts);posts=posts.filter(function(_ref7){var id=_ref7.id;return id!==postId;});_this.setState({posts:posts});// console.log(posts);\n// console.log(postId)\n_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return function(_x5){return _ref6.apply(this,arguments);};}();_this.update=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id,title,body){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this.myRef1.current.value=id;_this.myRef2.current.value=title;_this.myRef3.current.value=body;case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x6,_x7,_x8){return _ref8.apply(this,arguments);};}();_this.myRef1=/*#__PURE__*/React.createRef();_this.myRef2=/*#__PURE__*/React.createRef();_this.myRef3=/*#__PURE__*/React.createRef();_this.state={posts:[],userId:\"\",title:\"\",body:\"\"};return _this;}_createClass(demo,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.submit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\" userId \",/*#__PURE__*/_jsx(\"input\",{ref:this.myRef1,type:\"number\",value:this.state.userId.value,name:\"userId\",onChange:this.handle}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"label\",{children:[\" Title \",/*#__PURE__*/_jsx(\"input\",{ref:this.myRef2,type:\"text\",value:this.state.title.value,name:\"title\",onChange:this.handle}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"label\",{children:[\" Body \",/*#__PURE__*/_jsx(\"input\",{ref:this.myRef3,type:\"text\",value:this.state.body.value,name:\"body\",onChange:this.handle}),\" \"]}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]}),\" \",/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" userId \"}),\" \",/*#__PURE__*/_jsx(\"th\",{children:\" Id \"}),\" \",/*#__PURE__*/_jsx(\"th\",{children:\" Title \"}),\" \",/*#__PURE__*/_jsx(\"th\",{children:\" Body \"}),\" \",/*#__PURE__*/_jsx(\"th\",{children:\" Action \"}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"tbody\",{children:[\" \",this.state.posts.map(function(_ref9){var userId=_ref9.userId,id=_ref9.id,title=_ref9.title,body=_ref9.body;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",userId,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[\" \",id,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[\" \",title,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[\" \",body,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.delete(id);},children:\" Delete \"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.view(id);},children:\" View User \"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.comments(id);},children:\" View Comments \"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.update(id,title,body);},children:\" Update \"})]})]},id);}),\" \"]}),\" \"]}),\" \"]});}}]);return demo;}(Component);export default demo;","map":{"version":3,"sources":["C:/Users/nikhil.parate/Desktop/guvi/react/demosite/src/form.js"],"names":["React","Component","Button","Table","axios","API_URL","demo","componentDidMount","getPost","get","data","setState","posts","console","log","handle","event","target","name","value","submit","preventDefault","flag","i","state","length","id","myRef1","current","ID","index","post","userId","title","myRef2","body","myRef3","put","comments","Id","res","push","postId","email","alert","view","delete","filter","update","createRef","map"],"mappings":"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","sourcesContent":["import React, {\r\n    Component\r\n} from 'react';\r\nimport {\r\n    Button,\r\n    Table\r\n} from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'https://jsonplaceholder.typicode.com/posts';\r\nclass demo extends Component {\r\n    constructor() {\r\n        super();\r\n        this.myRef1 = React.createRef();\r\n        this.myRef2 = React.createRef();\r\n        this.myRef3 = React.createRef();\r\n        this.state = {\r\n            posts: [],\r\n            userId: \"\",\r\n            title: \"\",\r\n            body: \"\",\r\n        }\r\n    }\r\n    componentDidMount = () => this.getPost();\r\n    getPost = async () => {\r\n        try {\r\n            const {\r\n                data\r\n            } = await axios.get(API_URL);\r\n            //console.log(data);\r\n            this.setState({\r\n                posts: data\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    handle = async (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n        //console.log(this.state)\r\n\r\n    }\r\n    submit = async (event) => {\r\n        console.log(event.target);\r\n        event.preventDefault();\r\n        var flag = 0,\r\n            ID,\r\n            index;\r\n        for (var i = 0; i < this.state.posts.length; ++i) {\r\n            if (this.state.posts[i].id == this.myRef1.current.value) {\r\n                flag = 1;\r\n                ID = this.state.posts[i].id;\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        if (flag === 0) {\r\n            const post = {\r\n                userId: this.myRef1.current.value,\r\n                title: this.myRef2.current.value,\r\n                body: this.myRef3.current.value,\r\n            }\r\n\r\n            console.log(\"if\")\r\n            try {\r\n                await axios.post(`${API_URL}`, post);\r\n                let posts = [...this.state.posts, post];\r\n                console.log(\"try\");\r\n                this.setState({\r\n                    posts\r\n                });\r\n\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        } else {\r\n            console.log(\"else\")\r\n            const post = {\r\n                userId: this.myRef1.current.value,\r\n                title: this.myRef2.current.value,\r\n                body: this.myRef3.current.value,\r\n            }\r\n\r\n            console.log(\"inside update\")\r\n            try {\r\n                await axios.put(`${API_URL}/${ID}`, post);\r\n                //console.log(posts);\r\n                this.state.posts[index].userId = post.userId;\r\n                this.state.posts[index].title = post.title;\r\n                this.state.posts[index].body = post.body;\r\n                const posts = [...this.state.posts];\r\n                this.setState({\r\n                    posts\r\n                });\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    }\r\n    comments = async (Id) => {\r\n        const {\r\n            data\r\n        } = await axios.get(`${API_URL}/${Id}/comments`)\r\n        let res = [];\r\n        for (var i = 0; i < data.length; ++i) {\r\n            res.push(data[i].postId, data[i].id, data[i].name, data[i].email, data[i].body);\r\n        }\r\n        alert(res);\r\n\r\n    }\r\n    view = async (Id) => {\r\n        const {\r\n            data\r\n        } = await axios.get(`${API_URL}/${Id}`);\r\n        console.log(data);\r\n        alert(\"userId:  \" + data.id + \"   \" + \"Title:  \" + data.title + \"   \" + \"Body:  \" + data.body);\r\n    }\r\n    delete = async (postId) => {\r\n        try {\r\n            await axios.delete(`${API_URL}/${postId}`);\r\n            let posts = [...this.state.posts];\r\n            posts = posts.filter(({\r\n                id\r\n            }) => id !== postId);\r\n            this.setState({\r\n                posts\r\n            });\r\n            // console.log(posts);\r\n            // console.log(postId)\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    update = async (id, title, body) => {\r\n        this.myRef1.current.value = id;\r\n        this.myRef2.current.value = title;\r\n        this.myRef3.current.value = body;\r\n    }\r\n    render() {\r\n        return ( <\r\n            >\r\n            <\r\n            form onSubmit = {\r\n                this.submit\r\n            } >\r\n            <\r\n            label > userId <\r\n            input ref = {\r\n                this.myRef1\r\n            }\r\n            type = \"number\"\r\n            value = {\r\n                this.state.userId.value\r\n            }\r\n            name = \"userId\"\r\n            onChange = {\r\n                this.handle\r\n            }\r\n            /> < /\r\n            label > <\r\n            label > Title <\r\n            input ref = {\r\n                this.myRef2\r\n            }\r\n            type = \"text\"\r\n            value = {\r\n                this.state.title.value\r\n            }\r\n            name = \"title\"\r\n            onChange = {\r\n                this.handle\r\n            }\r\n            /> < /\r\n            label > <\r\n            label > Body <\r\n            input ref = {\r\n                this.myRef3\r\n            }\r\n            type = \"text\"\r\n            value = {\r\n                this.state.body.value\r\n            }\r\n            name = \"body\"\r\n            onChange = {\r\n                this.handle\r\n            }\r\n            /> < /\r\n            label > <\r\n            input type = \"submit\"\r\n            value = \"Submit\" / >\r\n            <\r\n            /form> <\r\n            Table >\r\n            <\r\n            thead >\r\n            <\r\n            th > userId < /th> <\r\n            th > Id < /th> <\r\n            th > Title < /th> <\r\n            th > Body < /th> <\r\n            th > Action < /th> < /\r\n            thead > <\r\n            tbody > {\r\n                this.state.posts.map(({\r\n                    userId,\r\n                    id,\r\n                    title,\r\n                    body\r\n                }) => {\r\n                    return ( <\r\n                        tr key = {\r\n                            id\r\n                        } >\r\n                        <\r\n                        td > {\r\n                            userId\r\n                        } < /td> <\r\n                        td > {\r\n                            id\r\n                        } < /td> <\r\n                        td > {\r\n                            title\r\n                        } < /td> <\r\n                        td > {\r\n                            body\r\n                        } < /td> <\r\n                        td > < Button onClick = {\r\n                            () => this.delete(id)\r\n                        } > Delete < /Button></td >\r\n                        <\r\n                        td > < Button onClick = {\r\n                            () => this.view(id)\r\n                        } > View User < /Button></td >\r\n                        <\r\n                        td > < Button onClick = {\r\n                            () => this.comments(id)\r\n                        } > View Comments < /Button></td >\r\n                        <\r\n                        td > < Button onClick = {\r\n                            () => this.update(id, title, body)\r\n                        } > Update < /Button></td >\r\n                        <\r\n                        /tr>\r\n                    );\r\n                })\r\n            } <\r\n            /tbody> < /\r\n            Table > <\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default demo;"]},"metadata":{},"sourceType":"module"}